# ========================================
# VWAP Bounce Bot - Configuration Template
# ========================================
# Copy this file to .env and fill in your values
# Environment variables override default config.py values

# ========================================
# CLOUD API CONFIGURATION
# ========================================

# QuoTrading Cloud API URL (for license validation and cloud signals)
# Default: https://quotrading-api.onrender.com (Render deployment)
# Azure: https://quotrading-api.azurewebsites.net (or your custom domain)
# Local: http://localhost:8000 (for development)
QUOTRADING_API_URL=https://quotrading-api.onrender.com

# ========================================
# BROKER CREDENTIALS (REQUIRED)
# ========================================

TOPSTEP_API_TOKEN=your_api_token_here
TOPSTEP_USERNAME=your_email@example.com

# ========================================
# ENVIRONMENT & SAFETY
# ========================================

# Environment (development/staging/production)
BOT_ENVIRONMENT=production

# Trading Mode (true = paper trading, false = LIVE REAL MONEY)
BOT_DRY_RUN=false

# Live Trading Safety Switch (must be 1 to enable live trading)
CONFIRM_LIVE_TRADING=1

# Logging level (DEBUG/INFO/WARNING/ERROR)
BOT_LOG_LEVEL=INFO

# ========================================
# TRADING CONFIGURATION
# ========================================

# Instrument to trade (ES, NQ, YM, etc.)
BOT_INSTRUMENT=ES

# Timezone for trading hours (Eastern Time for US futures)
BOT_TIMEZONE=America/New_York

# ========================================
# POSITION SIZING (CUSTOMER CONFIGURABLE)
# ========================================

# Maximum contracts per trade (1-25)
# - WARNING at 15+ contracts
# - HARD CAP at 25 contracts (bot refuses to start above 25)
# RL confidence scales within your limit:
#   - LOW confidence (0-40%): 33% of max (e.g., max=3 → 1 contract)
#   - MEDIUM confidence (40-70%): 33-67% of max (e.g., max=3 → 2 contracts)
#   - HIGH confidence (70-100%): 67-100% of max (e.g., max=3 → 3 contracts)
#
# Account Size Recommendations:
#   - $50K account: BOT_MAX_CONTRACTS=1 or 2
#   - $100K account: BOT_MAX_CONTRACTS=2 to 4
#   - $150K account: BOT_MAX_CONTRACTS=3 to 5
#   - $250K account: BOT_MAX_CONTRACTS=5 to 10
#   - $500K+ account: BOT_MAX_CONTRACTS=10 to 15
BOT_MAX_CONTRACTS=3

# Maximum trades per day (prevents overtrading)
BOT_MAX_TRADES_PER_DAY=9

# Risk per trade as decimal (0.012 = 1.2% of account per trade)
BOT_RISK_PER_TRADE=0.012

# Risk/Reward ratio (2.0 = target profit is 2x the stop loss)
BOT_RISK_REWARD_RATIO=2.0

# ========================================
# RISK MANAGEMENT
# ========================================

# Use TopStep rules for risk management (true/false)
# - true: Auto-calculates 2% daily loss limit, 4% max drawdown from balance
# - false: Uses custom percentages below
BOT_USE_TOPSTEP_RULES=true

# Custom daily loss percent (only used if BOT_USE_TOPSTEP_RULES=false)
# Decimal format: 2.0 = 2% of account balance
# BOT_DAILY_LOSS_PERCENT=2.0

# Custom max drawdown percent (only used if BOT_USE_TOPSTEP_RULES=false)
# Decimal format: 4.0 = 4% from peak equity
# BOT_MAX_DRAWDOWN_PERCENT=4.0

# Manual daily loss limit override (optional, in dollars)
# This overrides auto-calculation if set
# BOT_DAILY_LOSS_LIMIT=1000.0

# ========================================
# MARKET SPECIFICATION
# ========================================

# Tick size for instrument (ES = 0.25 points)
BOT_TICK_SIZE=0.25

# Tick value in dollars (ES = $12.50 per 0.25 point move)
BOT_TICK_VALUE=12.5

# ========================================
# SLIPPAGE & COMMISSION
# ========================================

# Average slippage in ticks (1.5 = expect 1-2 ticks slippage per fill)
# BOT_SLIPPAGE_TICKS=1.5

# Commission per contract (round-turn, includes entry + exit)
# BOT_COMMISSION_PER_CONTRACT=2.50

# ========================================
# VWAP STRATEGY PARAMETERS
# ========================================

# VWAP standard deviation multipliers for band levels
# Band 1: Warning zone (potential reversal area)
# BOT_VWAP_STD_DEV_1=2.5

# Band 2: Entry zone (optimal entry area)
# BOT_VWAP_STD_DEV_2=2.1

# Band 3: Exit/stop zone (extreme deviation)
# BOT_VWAP_STD_DEV_3=3.7

# ========================================
# TECHNICAL FILTERS (OPTIONAL)
# ========================================

# Enable/disable technical analysis filters
# BOT_USE_TREND_FILTER=false         # EMA trend alignment
# BOT_USE_RSI_FILTER=true            # RSI momentum filter
# BOT_USE_VWAP_DIRECTION_FILTER=true # VWAP slope direction
# BOT_USE_VOLUME_FILTER=false        # Volume spike detection
# BOT_USE_MACD_FILTER=false          # MACD trend confirmation

# Trend Filter - EMA period for trend detection
# BOT_TREND_EMA_PERIOD=21

# RSI Settings
# BOT_RSI_PERIOD=10           # Lookback period for RSI
# BOT_RSI_OVERSOLD=35         # Oversold threshold for long entries
# BOT_RSI_OVERBOUGHT=65       # Overbought threshold for short entries

# MACD Settings
# BOT_MACD_FAST=12
# BOT_MACD_SLOW=26
# BOT_MACD_SIGNAL=9

# Volume Settings
# BOT_VOLUME_SPIKE_MULTIPLIER=1.5  # Volume must be 1.5x average
# BOT_VOLUME_LOOKBACK=20           # Periods for volume average

# ========================================
# TRADING HOURS (Eastern Time)
# ========================================

# Entry window (when bot can take new positions)
# ES futures: 6:00 PM - 4:55 PM next day (Sunday-Friday)
# BOT_ENTRY_START_TIME=18:00:00
# BOT_ENTRY_END_TIME=16:55:00

# Flatten time (start closing positions before session end)
# BOT_FLATTEN_TIME=16:30:00

# Forced flatten (must be flat by this time)
# BOT_FORCED_FLATTEN_TIME=16:45:00

# Shutdown time (stop all operations, prepare for maintenance)
# BOT_SHUTDOWN_TIME=16:50:00

# VWAP reset time (when VWAP calculation resets for new session)
# BOT_VWAP_RESET_TIME=18:00:00

# Friday special rules (close before weekend)
# BOT_FRIDAY_ENTRY_CUTOFF=16:00:00
# BOT_FRIDAY_CLOSE_TARGET=16:30:00

# ========================================
# REINFORCEMENT LEARNING
# ========================================

# Enable RL-based signal confidence scoring
# BOT_RL_ENABLED=true

# Exploration rate (0.0 = pure exploitation, 0.1 = 10% exploration)
# LIVE trading should use 0.0 (no random trades)
# Backtesting/learning can use 0.05-0.1
# BOT_RL_EXPLORATION_RATE=0.0

# ========================================
# ADAPTIVE EXIT MANAGEMENT
# ========================================

# Enable adaptive exit system (dynamic stop/target adjustments)
# BOT_ADAPTIVE_EXITS_ENABLED=true

# Enable volatility-based exit scaling
# BOT_ADAPTIVE_VOLATILITY_SCALING=true

# Enable market regime detection for exits
# BOT_ADAPTIVE_REGIME_DETECTION=true

# Enable performance-based exit adjustments
# BOT_ADAPTIVE_PERFORMANCE_BASED=true

# ========================================
# BASELINE EXIT MANAGEMENT
# ========================================

# Breakeven stop (move stop to entry price after profit threshold)
# BOT_BREAKEVEN_ENABLED=true
# BOT_BREAKEVEN_PROFIT_THRESHOLD_TICKS=8
# BOT_BREAKEVEN_STOP_OFFSET_TICKS=2

# Trailing stop (follow price up/down by fixed distance)
# BOT_TRAILING_STOP_ENABLED=true
# BOT_TRAILING_STOP_DISTANCE_TICKS=8
# BOT_TRAILING_STOP_MIN_PROFIT_TICKS=8

# Time decay (tighten stops as time passes)
# BOT_TIME_DECAY_ENABLED=true
# BOT_TIME_DECAY_50_PERCENT_TIGHTENING=0.8
# BOT_TIME_DECAY_75_PERCENT_TIGHTENING=0.6
# BOT_TIME_DECAY_90_PERCENT_TIGHTENING=0.4

# Partial exits (scale out of position at profit milestones)
# BOT_PARTIAL_EXITS_ENABLED=false
# BOT_PARTIAL_EXIT_1_PERCENTAGE=0.33
# BOT_PARTIAL_EXIT_1_R_MULTIPLE=1.0
# BOT_PARTIAL_EXIT_2_PERCENTAGE=0.33
# BOT_PARTIAL_EXIT_2_R_MULTIPLE=1.5
# BOT_PARTIAL_EXIT_3_PERCENTAGE=0.34
# BOT_PARTIAL_EXIT_3_R_MULTIPLE=2.0

# ========================================
# SAFETY BUFFERS
# ========================================

# Tick data timeout (seconds to wait for tick data before error)
# BOT_TICK_TIMEOUT_SECONDS=60

# Proactive stop buffer (ticks to add to stop loss for safety margin)
# BOT_PROACTIVE_STOP_BUFFER_TICKS=2

# Flatten buffer (ticks to add when calculating flatten prices)
# BOT_FLATTEN_BUFFER_TICKS=2

# ========================================
# STORAGE & LOGGING
# ========================================

# Maximum bars to keep in memory (for performance)
# BOT_MAX_BARS_STORAGE=5000

# Log file path (optional, defaults to logs/vwap_bot.log)
# BOT_LOG_FILE=logs/vwap_bot.log


